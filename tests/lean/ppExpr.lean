import Lean


/-! Pretty printing tests for `Expr`s that cannot be generated by parsing+elaborating. -/

open Lean

def test (e : Expr) : MetaM Unit :=
PrettyPrinter.ppExpr Name.anonymous [] e >>= IO.println

-- loose bound variable
#eval test (mkBVar 0)

-- anonymous binder
#eval test (mkLambda Name.anonymous BinderInfo.default (mkSort levelZero) (mkBVar 0))

-- pp annotations
#eval test $
  mkAppN (mkConst `id [levelZero]) #[
    mkConst `Nat,
    mkMData (KVMap.empty.set `pp.explicit true) $ mkAppN (mkConst `id [levelZero]) #[
      mkConst `Nat,
      mkAppN (mkConst `id [levelZero]) #[
        mkConst `Nat,
        mkConst `Nat.zero
  ]]]
